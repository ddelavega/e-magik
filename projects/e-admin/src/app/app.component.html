<div class="wrapper">
  <ng-container *ngIf="usuario; else login">

    <ng-sidebar-container>
      <!-- A sidebar -->
      <ng-sidebar [(opened)]="menuOpened" [(mode)]="menuMode" [(autoCollapseWidth)]="menuCollapseWidth"
        [(sidebarClass)]="menuSidebarClass" [(showBackdrop)]="menuShowBackdrop"
        [(closeOnClickOutside)]="menuCloseOnClickOutside" [(keyClose)]="menuKeyClose" [class.bkgShadow]="menuOpened">
        <div
          class="Adminstyle menu-sidenav text-light"
          *ngIf="usuario">
          <div class="sidebarHeader">
            <a class="logo-banner">
              <img src="assets/img/logos/e-magik-logo.svg" alt="Accion Point" />
            </a>
            <a class="iconArrow" (click)="closeMenu()" [ngClass]="{'rotateArrow': menuOpened}">
              <i class="icon ico-chevron-right"></i>
            </a>
          </div>
          <nav class="navbar">
            <!-- <h5>{{usuario?.email}}</h5> -->
            <div class="navbar-nav">
              <!-- <p class="px-3 py-4">Hola,
                <strong>
                  {{usuario?.uid}}!
                </strong>
              </p> -->
              <ul>
                <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="/"
                    [routerLinkActiveOptions]="{ exact: true }" (click)="isMobile && closeMenu()">Dashboard</a>
                </li>
                <!-- <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="/backend/administrador"
                    (click)="isMobile && closeMenu()">
                    Administrador
                  </a>
                </li> -->
                <!-- <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="/products"
                    (click)="isMobile && closeMenu()">
                    Productos
                  </a>
                </li> -->
                <li>
                  <div class="accordion accordion-flush opened" id="accordionProducts">
                    <div class="accordion-item">
                      <a class="nav-item nav-link collapsed" id="flush-products" data-bs-toggle="collapse"
                        data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                        Productos
                      </a>
                      <ul id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-products"
                        data-bs-parent="#accordionProducts">
                        <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="/backend/set-productos"
                            (click)="isMobile && closeMenu()">Set Productos <i class="icon ico-pen"></i></a></li>
                        <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="/products/list" [routerLinkActiveOptions]="{ exact: true }"
                            (click)="isMobile && closeMenu()">List</a></li>
                        <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="/products/add"
                            (click)="isMobile && closeMenu()">Add</a></li>
                      </ul>


                    </div>
                  </div>

                </li>
                <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="/e-admin/organizations"
                    (click)="isMobile && closeMenu()">
                    Organizaciones
                  </a>
                </li>
                <li><a class="nav-item nav-link" routerLinkActive="active"
                    routerLink="/e-admin/bitacora-de-servicios" (click)="isMobile && closeMenu()">
                    Bitacora de Servicios
                  </a>
                </li>
                <!-- <li *ngIf="isClient"><a class="nav-item nav-link" routerLinkActive="active" routerLink="/client"
                    (click)="isMobile && closeMenu()">Client</a></li> -->


                <!-- <li>
                  <div class="accordion accordion-flush opened" id="accordionFlushExample">
                    <div class="accordion-item">
                      <a class="nav-item nav-link collapsed" id="flush-headingOne" data-bs-toggle="collapse"
                        data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                        Accordion

                      </a>

                      <ul id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne"
                        data-bs-parent="#accordionFlushExample">
                        <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="login"
                            (click)="isMobile && closeMenu()">Logoutin</a></li>
                        <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="login"
                            (click)="isMobile && closeMenu()">Logoutin</a></li>
                        <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="login"
                            (click)="isMobile && closeMenu()">Logoutin</a></li>
                        <li *ngIf="isAdmin"><a class="nav-item nav-link" routerLinkActive="active" routerLink="/admin"
                            (click)="isMobile && closeMenu()">Admin</a></li>
                      </ul>


                    </div>
                  </div>

                </li>
                <li>
                  <div class="accordion accordion-flush opened" id="accordionFlushExample2">
                    <div class="accordion-item">
                      <a class="nav-item nav-link collapsed" id="flush-headingTwo" data-bs-toggle="collapse"
                        data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                        Accordion

                      </a>

                      <ul id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo"
                        data-bs-parent="#accordionFlushExample2">
                        <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="login"
                            (click)="isMobile && closeMenu()">Logoutin</a></li>
                        <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="login"
                            (click)="isMobile && closeMenu()">Logoutin</a></li>
                        <li><a class="nav-item nav-link" routerLinkActive="active" routerLink="login"
                            (click)="isMobile && closeMenu()">Logoutin</a></li>
                        <li *ngIf="isAdmin"><a class="nav-item nav-link" routerLinkActive="active" routerLink="/admin"
                            (click)="isMobile && closeMenu()">Admin</a></li>
                      </ul>


                    </div>
                  </div>
                  <a class="nav-item nav-link" routerLinkActive="active" routerLink="login" (click)="logout()"
                    (click)="isMobile && closeMenu()">Logout</a>
                </li> -->
                <li>
                  <a class="nav-item nav-link" routerLinkActive="active" routerLink="login" (click)="logout()"
                    (click)="isMobile && closeMenu()">Logout</a>
                </li>
              </ul>

            </div>
          </nav>
        </div>
      </ng-sidebar>
      <!-- Page content -->
      <div ng-sidebar-content class="main-wrapper">
        <ng-container *ngIf="usuario !== null">
          <div class="container-header">
            <div class="row">
              <div class="col-2 p-0 mw-60">
                <div class="iconMenu mx-3">
                  <a (click)="toggleSidebar()">
                    <span class="icon-standard">
                      <i class="icon ico-bars"></i>
                    </span>
                  </a>
                </div>
              </div>
              <div class="col-3 px-0">
                <div class="px-1">
                  <form [formGroup]="searchBoxCuit" class="px-0">
                    <input formControlName="searchTermCuit" #searchCuit type="search"
                      (input)="onFind($event.target.value)" placeholder="Buscar por numero de CUIT" />
                  </form>
                </div>
              </div>
              <div class="col p-0 menu-right">
                <div class="iconAlarm ml-3">
                  <a>
                    <!-- <span class="icon ico-circle-fill"></span> -->
                    <span class="icon-standard">
                      <i class="icon ico-cart"></i>
                    </span>
                  </a>
                </div>
                <div class="profileBox mx-3">
                  <button class="button-profile" id="userLog" data-bs-toggle="dropdown" aria-expanded="false">
                    <span class="circle-profile">
                      <ng-template #foto>
                        <img src="assets/images/users/grogu-sm.png" />
                      </ng-template>
                      <ng-container *ngIf="usuario?.photoURL as image; else foto">
                        <img src="{{ image }}" alt="imagen">
                      </ng-container>
                    </span>
                    <!-- <ng-container *ngIf="!isMobile"> -->
                    <span class="pr-2 text-profile d-none d-md-inline-block">{{usuario.email}}</span>
                    <!-- </ng-container> -->
                  </button>
                  <ul aria-labelledby="userLog" class="userLog shadow-sm dropdown-menu dropdown-menu-end">
                    <li>
                      <a class="dropdown-item" routerLinkActive="active" routerLink="/auth/perfil">
                        <i class="icon ico-user-robot"></i>
                        <span translate>Perfil</span>
                      </a>
                    </li>
                    <li>
                      <button class="dropdown-item" (click)="logout()">
                        <i class="icon ico-logout"></i>
                        <span translate>Logout</span>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
        <div class="container-main px-1">
          <div class="container-fluid">
            <router-outlet></router-outlet>
          </div>
          <!-- <div class="bg-dark small text-center text-light foot-legend">
            <p><i class="icon ico-ap-logo"></i> {{title}} | vers: {{vers}} |
              Hecho con <i class="icon ico-brain-side"></i> con Angular
              {{ngVersion.full}}
            </p>
          </div> -->
        </div>
      </div>
    </ng-sidebar-container>
  </ng-container>
  <ng-template #login>
    <router-outlet></router-outlet>
  </ng-template>
</div>
